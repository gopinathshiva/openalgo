import{r,j as e}from"./vendor-react-CCyQGCED.js";import{v as $,d as Ke,B as L,c as C,e as Ie,s as se}from"./index-CV9-jrfa.js";import{o as Pe}from"./oi-profile-suAJebM1.js";import{u as He}from"./useMarketData-BuKwlaVA.js";import{C as b,a as Ye,b as Ge,d as T}from"./card-BXramsOV.js";import{S as Ce}from"./switch-mPv-nugv.js";import{P as ze,a as qe,b as Qe,C as Je,c as Ze,d as es,e as ss,f as ts,g as ns}from"./popover-RvomAgIF.js";import{I as E}from"./input-BUP_yo3z.js";import{L as w}from"./label-CDyqv402.js";import{S as W,a as U,b as X,c as V,d as S}from"./select-CWtB4o6r.js";import{T as as,a as is,b as te,c as v,d as rs,e as N}from"./table-DksmGrpN.js";import{a2 as Te,aV as ne,n as ae,_ as Ee,aP as ls,aQ as cs,c as os,aw as ds,C as we,X as De,T as hs}from"./vendor-icons-Dyz2WLZ8.js";import"./vendor-charts-l0_txfiz.js";import"./vendor-router-Dzc1xxhr.js";import"./vendor-radix-CYVJEJRR.js";const ms={getOptionChain:async(u,s,h,x,I)=>(await $.post("/optionchain",{apikey:u,underlying:s,exchange:h,expiry_date:x,strike_count:I??20})).data,getExpiries:async(u,s,h,x="options")=>(await $.post("/expiry",{apikey:u,symbol:s,exchange:h,instrumenttype:x})).data},xs={exchange:"NFO",underlying:"NIFTY",expiry:"",strikeCount:10,distanceThreshold:500,premiumThreshold:5,ivThreshold:30,spikeReference:"OPEN",lastXMinutes:5,spikeThresholdPercent:10,skipIvWhenDistanceFail:!1,skipIvWhenPremiumFail:!1},ps=[{value:"NFO",label:"NFO"},{value:"BFO",label:"BFO"}];function Ds(){const{apiKey:u}=Ke(),[s,h]=r.useState(xs),[x,I]=r.useState(!1),[D,B]=r.useState(!0),[Fe,Oe]=r.useState([]),[Me,Re]=r.useState([]),[F,ie]=r.useState(""),[K,re]=r.useState(""),[g,_e]=r.useState(null),[le,Ae]=r.useState({}),[O,Le]=r.useState(null),[ce,oe]=r.useState({}),[de,H]=r.useState({}),[Y,M]=r.useState(!1),P=r.useRef(null),he=r.useRef({}),k=r.useCallback(t=>t==="NFO"?"NSE_INDEX":t==="BFO"?"BSE_INDEX":t==="CDS"?"CDS":t==="MCX"?"MCX":"NSE_INDEX",[]),[me,xe]=r.useState(!1),[pe,ue]=r.useState(!1),[f,We]=r.useState([]),fe=r.useMemo(()=>{const t=f.map(n=>({symbol:n.symbol,exchange:s.exchange}));return s.underlying&&t.push({symbol:s.underlying,exchange:k(s.exchange)}),t},[f,s.exchange,s.underlying,k]),{data:y}=He({symbols:fe,mode:"LTP",enabled:x&&fe.length>0}),G=t=>t?.toFixed(2)??"0.00",Ue=()=>s.spikeReference==="OPEN"?"Today's Open":s.spikeReference==="PREV_CLOSE"?"Yesterday's Close":`Last ${s.lastXMinutes} Minutes`;r.useEffect(()=>{(async()=>{try{const n=await Pe.getUnderlyings(s.exchange);if(n.status==="success"&&(Oe(n.underlyings),!n.underlyings.includes(F))){let a="";s.exchange==="BFO"?a=n.underlyings.includes("SENSEX")?"SENSEX":n.underlyings[0]||"":s.exchange==="NFO"?a=n.underlyings.includes("NIFTY")?"NIFTY":n.underlyings[0]||"":a=n.underlyings[0]||"",ie(a),h(i=>({...i,underlying:a}))}}catch(n){console.error("Failed to fetch underlyings",n)}})()},[s.exchange,F]),r.useEffect(()=>{if(!s.underlying)return;(async()=>{try{const n=await Pe.getExpiries(s.exchange,s.underlying);if(n.status==="success"&&(Re(n.expiries),!n.expiries.includes(K))){const a=n.expiries[0]||"";re(a),h(i=>({...i,expiry:a}))}}catch(n){console.error("Failed to fetch expiries",n)}})()},[s.exchange,s.underlying,K]);const z=r.useCallback(async t=>{if(!u)return;const n=new Date(Date.now()-s.lastXMinutes*60*1e3),a=n.toISOString().slice(0,10),i=new Date().toISOString().slice(0,10),c={};for(const l of t)try{const o=await $.post("/history",{apikey:u,symbol:l.symbol,exchange:l.exchange,interval:"1m",start_date:a,end_date:i,source:"api"});if(o.data.status==="success"&&o.data.data?.length){const p=o.data.data,d=n.getTime();let m=p[0];for(const j of p)new Date(j.timestamp??j.date??j.time).getTime()<=d&&(m=j);c[l.symbol]={price:Number(m.close??m.c??m.last_price??0),timestamp:d}}}catch(o){console.error("[OptionSpikeMonitor] Failed to fetch reference snapshot",l.symbol,o)}Object.keys(c).length>0&&H(l=>({...l,...c}))},[u,s.lastXMinutes]),q=r.useCallback(async(t,n)=>{const a=n??f;if(console.log("[OptionSpikeMonitor][fetchIvData] ENTRY - apiKey:",!!u,"activeStrikes:",a.length,"override:",t?.length),!u){console.log("[OptionSpikeMonitor][fetchIvData] SKIPPED - no API key");return}if(!t&&a.length===0){console.log("[OptionSpikeMonitor][fetchIvData] SKIPPED - no monitored strikes");return}M(!0);try{const i=y.get(`${k(s.exchange)}:${s.underlying}`)?.data?.ltp??g?.underlying_ltp;console.log("[OptionSpikeMonitor][fetchIvData] spotPrice:",i,"wsData size:",y.size,"optionChain?.underlying_ltp:",g?.underlying_ltp);const c=t&&t.length>0?t:a.filter(o=>{if(i===void 0){const p=!s.skipIvWhenDistanceFail;return console.log("[OptionSpikeMonitor][fetchIvData] spotPrice undefined, skipIvWhenDistanceFail:",s.skipIvWhenDistanceFail,"allow:",p),p}if(s.skipIvWhenDistanceFail){const p=Math.abs(i-o.strike);if(p<=s.distanceThreshold)return console.log("[OptionSpikeMonitor][fetchIvData] FILTERED OUT (distance):",o.symbol,"distance:",p,"threshold:",s.distanceThreshold),!1}if(s.skipIvWhenPremiumFail){const p=`${s.exchange}:${o.symbol}`,d=y.get(p)?.data?.ltp??0;if(d<=s.premiumThreshold)return console.log("[OptionSpikeMonitor][fetchIvData] FILTERED OUT (premium):",o.symbol,"ltp:",d,"threshold:",s.premiumThreshold),!1}return!0}).map(o=>({symbol:o.symbol,exchange:s.exchange}));if(console.log("[OptionSpikeMonitor][fetchIvData] Filtered symbols count:",c.length),c.length===0){console.log("[OptionSpikeMonitor][fetchIvData] SKIPPED - no symbols after filtering");return}const l=await $.post("/multioptiongreeks",{apikey:u,symbols:c});if(console.log("[OptionSpikeMonitor] fetchIvData request:",c),console.log("[OptionSpikeMonitor] fetchIvData response:",l.data),(l.data.status==="success"||l.data.status==="partial")&&l.data.data){const o={},p=new Set;if(l.data.data.forEach(d=>{d.status==="success"&&d.implied_volatility!==void 0&&d.symbol&&(o[d.symbol]=d.implied_volatility,p.add(d.symbol))}),Object.keys(o).length>0&&Ae(d=>({...d,...o})),Le({status:l.data.status,total:l.data.summary?.total??l.data.data.length,success:l.data.summary?.success??Object.keys(o).length,failed:l.data.summary?.failed??l.data.data.length-Object.keys(o).length}),l.data.status==="partial"){const d=c.filter(m=>!p.has(m.symbol));if(d.length>0){const m={};d.forEach(j=>{m[j.symbol]=j}),he.current=m,P.current&&window.clearTimeout(P.current),P.current=window.setTimeout(()=>{const j=Object.values(he.current);j.length>0&&q(j)},5e3)}else M(!1)}else M(!1)}}catch(i){console.error("[OptionSpikeMonitor] Error fetching IV data",i),M(!1)}},[u,f,s.exchange,s.underlying,s.skipIvWhenDistanceFail,s.skipIvWhenPremiumFail,s.distanceThreshold,s.premiumThreshold,y,g,k]),Xe=async()=>{if(!u||!s.expiry){se.error("Please configure expiry and ensure API key is set");return}ue(!0),B(!1);try{const t=s.expiry.split("-").length===3?`${s.expiry.split("-")[0]}${s.expiry.split("-")[1].toUpperCase()}${s.expiry.split("-")[2].slice(-2)}`:s.expiry,n=await ms.getOptionChain(u,s.underlying,s.exchange,t,s.strikeCount);if(n&&n.chain){_e(n);const a=n.atm_strike,i=[];if(n.chain.forEach(c=>{c.strike>a&&c.ce&&i.push({symbol:c.ce.symbol,type:"CE",strike:c.strike,baseSymbol:s.underlying}),c.strike<a&&c.pe&&i.push({symbol:c.pe.symbol,type:"PE",strike:c.strike,baseSymbol:s.underlying})}),We(i),I(!0),oe({}),H({}),s.spikeReference==="LAST_X_MIN"){const c=i.map(l=>({symbol:l.symbol,exchange:s.exchange}));z(c)}console.log("[OptionSpikeMonitor][handleStart] Scheduling initial IV fetch in 1s, apiKey available:",!!u,"strikes count:",i.length),setTimeout(()=>{console.log("[OptionSpikeMonitor][handleStart] FIRING initial IV fetch now with",i.length,"strikes"),q(void 0,i)},1e3)}else se.error("No option chain data found")}catch(t){console.error("Error starting monitor",t),se.error("Failed to start monitoring")}finally{ue(!1)}},Ve=()=>{I(!1),B(!0),H({})};r.useEffect(()=>{x||P.current&&window.clearTimeout(P.current)},[x]),r.useEffect(()=>{if(!x||s.spikeReference!=="LAST_X_MIN")return;const t=f.map(n=>({symbol:n.symbol,exchange:s.exchange}));t.length!==0&&z(t)},[s.spikeReference,s.lastXMinutes,x,f,s.exchange,z]),r.useEffect(()=>{x&&y.forEach((t,n)=>{const a=n.split(":")[1];t.lastUpdate&&oe(i=>({...i,[a]:t.lastUpdate??Date.now()}))})},[y,x]);const{distanceThreshold:R,premiumThreshold:_,ivThreshold:ge,spikeThresholdPercent:ye,spikeReference:Q,exchange:J,underlying:je}=s,Z=r.useMemo(()=>{if(!g||!f.length)return[];const t=y.get(`${k(J)}:${je}`)?.data?.ltp??g.underlying_ltp;return f.map(a=>{const i=`${J}:${a.symbol}`,c=y.get(i)?.data?.ltp??0,l=Math.abs(t-a.strike),o=le[a.symbol],p=g.chain.find(Be=>Be.strike===a.strike),d=a.type==="CE"?p?.ce:p?.pe;let m=0;Q==="OPEN"?m=d?.open??0:Q==="PREV_CLOSE"?m=d?.prev_close??0:m=de[a.symbol]?.price??0,m===0&&(m=d?.prev_close??0);const j=m>0?(c-m)/m*100:0,ee=ce[a.symbol]??0,$e=Date.now()-ee<3e4,Ne=l>R,ve=c>_,ke=o!==void 0&&o>ge,be=j>ye,Se=$e;return{...a,distance:l,currentPremium:c,currentIv:o??0,spikePercent:j,lastTickTime:ee,isDistancePass:Ne,isPremiumPass:ve,isIvPass:ke,isSpikePass:be,isHistoryPass:Se,isAllPass:Ne&&ve&&ke&&be&&Se}}).filter(a=>!(s.skipIvWhenDistanceFail&&!a.isDistancePass||s.skipIvWhenPremiumFail&&!a.isPremiumPass)).sort((a,i)=>a.isAllPass!==i.isAllPass?a.isAllPass?-1:1:a.strike-i.strike)},[f,y,g,ce,le,de,R,_,ge,ye,Q,J,je,k,s.skipIvWhenPremiumFail,s.skipIvWhenDistanceFail]),A=r.useMemo(()=>{if(!g||!f.length)return{distance:0,premium:0};const t=y.get(`${k(s.exchange)}:${s.underlying}`)?.data?.ltp??g.underlying_ltp;let n=0,a=0;return(s.skipIvWhenDistanceFail||s.skipIvWhenPremiumFail)&&f.forEach(i=>{const l=Math.abs(t-i.strike)<=R,o=`${s.exchange}:${i.symbol}`,d=(y.get(o)?.data?.ltp??0)<=_;s.skipIvWhenDistanceFail&&l&&n++,s.skipIvWhenPremiumFail&&d&&(!s.skipIvWhenDistanceFail||!l)&&a++}),{distance:n,premium:a}},[f,y,g,R,_,k,s.exchange,s.underlying,s.skipIvWhenDistanceFail,s.skipIvWhenPremiumFail]);return e.jsxs("div",{className:"py-6 space-y-6",children:[e.jsxs(b,{className:"w-full",children:[e.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[e.jsxs(Ge,{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-5 w-5"}),"Configuration"]}),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>B(!D),children:D?e.jsx(ne,{className:"h-4 w-4 rotate-180"}):e.jsx(ne,{className:"h-4 w-4"})})]}),D&&e.jsxs(T,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{children:"Exchange & Underlying"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(W,{value:s.exchange,onValueChange:t=>h(n=>({...n,exchange:t})),children:[e.jsx(U,{className:"w-24",children:e.jsx(X,{})}),e.jsx(V,{children:ps.map(t=>e.jsx(S,{value:t.value,children:t.label},t.value))})]}),e.jsxs(ze,{open:me,onOpenChange:xe,children:[e.jsx(qe,{asChild:!0,children:e.jsxs(L,{variant:"outline",role:"combobox","aria-expanded":me,className:"flex-1 justify-between",children:[F||"Select",e.jsx(ne,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(Qe,{className:"w-[200px] p-0",children:e.jsxs(Je,{children:[e.jsx(Ze,{placeholder:"Search..."}),e.jsxs(es,{children:[e.jsx(ss,{children:"No underlying found."}),e.jsx(ts,{children:Fe.map(t=>e.jsxs(ns,{value:t,onSelect:()=>{ie(t),h(n=>({...n,underlying:t})),xe(!1)},children:[e.jsx(ae,{className:C("mr-2 h-4 w-4",F===t?"opacity-100":"opacity-0")}),t]},t))})]})]})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{children:"Expiry & Strikes"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(W,{value:K,onValueChange:t=>{re(t),h(n=>({...n,expiry:t}))},children:[e.jsx(U,{className:"flex-1",children:e.jsx(X,{placeholder:"Expiry"})}),e.jsx(V,{children:Me.map(t=>e.jsx(S,{value:t,children:t},t))})]}),e.jsxs(W,{value:String(s.strikeCount),onValueChange:t=>h(n=>({...n,strikeCount:Number(t)})),children:[e.jsx(U,{className:"w-24",children:e.jsx(X,{})}),e.jsx(V,{children:[5,10,15,20,25].map(t=>e.jsxs(S,{value:String(t),children:[t," str"]},t))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{children:"Filters ( > )"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Dist (Pts)"}),e.jsx(E,{type:"number",value:s.distanceThreshold,onChange:t=>h(n=>({...n,distanceThreshold:Number(t.target.value)}))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Prem (Min)"}),e.jsx(E,{type:"number",value:s.premiumThreshold,onChange:t=>h(n=>({...n,premiumThreshold:Number(t.target.value)}))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{children:"Thresh ( > ) & Spike"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"IV (Max)"}),e.jsx(E,{type:"number",value:s.ivThreshold,onChange:t=>h(n=>({...n,ivThreshold:Number(t.target.value)}))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Spike %"}),e.jsx(E,{type:"number",value:s.spikeThresholdPercent,onChange:t=>h(n=>({...n,spikeThresholdPercent:Number(t.target.value)}))})]})]})]}),e.jsxs("div",{className:"space-y-2 lg:col-span-4",children:[e.jsx(w,{children:"Spike Reference"}),e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsxs(W,{value:s.spikeReference,onValueChange:t=>h(n=>({...n,spikeReference:t})),children:[e.jsx(U,{className:"w-48",children:e.jsx(X,{})}),e.jsxs(V,{children:[e.jsx(S,{value:"OPEN",children:"Today's Open"}),e.jsx(S,{value:"PREV_CLOSE",children:"Yesterday's Close"}),e.jsx(S,{value:"LAST_X_MIN",children:"Last X Minutes"})]})]}),s.spikeReference==="LAST_X_MIN"&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{type:"number",className:"w-20",value:s.lastXMinutes,onChange:t=>h(n=>({...n,lastXMinutes:Number(t.target.value)}))}),e.jsx("span",{className:"text-sm",children:"mins ago"})]})]})]})]}),e.jsx("div",{className:"flex justify-end gap-2 mt-6",children:e.jsxs(L,{variant:x?"destructive":"default",onClick:x?Ve:Xe,disabled:pe,children:[pe?e.jsx(Ee,{className:"mr-2 h-4 w-4 animate-spin"}):x?e.jsx(ls,{className:"mr-2 h-4 w-4 fill-current"}):e.jsx(cs,{className:"mr-2 h-4 w-4 fill-current"}),x?"Stop Monitor":"Start Monitor"]})})]})]}),x&&g&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(b,{children:e.jsx(T,{className:"p-4",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs(L,{variant:"outline",onClick:()=>q(),disabled:f.length===0||Y,children:[e.jsx(Ee,{className:C("mr-2 h-4 w-4",Y&&"animate-spin")}),Y?"Fetching IV...":"Fetch IV"]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-md border",children:[e.jsx(Ce,{checked:s.skipIvWhenDistanceFail,onCheckedChange:t=>h(n=>({...n,skipIvWhenDistanceFail:t}))}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium",children:"Skip IV if distance fails"}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Reduce IV calls for near strikes"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-md border",children:[e.jsx(Ce,{checked:s.skipIvWhenPremiumFail,onCheckedChange:t=>h(n=>({...n,skipIvWhenPremiumFail:t}))}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium",children:"Skip IV if premium fails"}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Skip IV for low premium strikes"})]})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(b,{children:e.jsxs(T,{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Spot Price"}),e.jsx("h2",{className:"text-2xl font-bold",children:G(y.get(`${k(s.exchange)}:${s.underlying}`)?.data?.ltp??g.underlying_ltp)})]}),e.jsx(os,{className:"h-8 w-8 text-primary opacity-50"})]})}),e.jsx(b,{children:e.jsxs(T,{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Reference Basis"}),e.jsx("h2",{className:"text-xl font-bold",children:Ue()}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.spikeReference==="LAST_X_MIN"?"Using option history":"Using option's static data"})]}),e.jsx(ds,{className:"h-8 w-8 text-blue-500 opacity-50"})]})}),e.jsx(b,{children:e.jsxs(T,{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Monitored Strikes"}),e.jsx("h2",{className:"text-2xl font-bold",children:f.length}),e.jsxs("p",{className:"text-xs text-green-500",children:[Z.filter(t=>t.isAllPass).length," Passing"]}),A.distance>0&&e.jsxs("p",{className:"text-xs text-amber-600",children:[A.distance," Hidden (distance)"]}),A.premium>0&&e.jsxs("p",{className:"text-xs text-amber-600",children:[A.premium," Hidden (premium)"]})]}),e.jsx(we,{className:"h-8 w-8 text-green-500 opacity-50"})]})})]}),e.jsx(b,{children:e.jsxs(as,{children:[e.jsx(is,{children:e.jsxs(te,{children:[e.jsx(v,{children:"SYMBOL"}),e.jsx(v,{className:"text-center",children:"TYPE"}),e.jsx(v,{className:"text-center",children:"STRIKE"}),e.jsx(v,{className:"text-right",children:"PREMIUM"}),e.jsx(v,{className:"text-center",children:"DISTANCE"}),e.jsxs(v,{className:"text-center",children:["PREM > ",s.premiumThreshold]}),e.jsx(v,{className:"text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsxs("span",{children:["IV > ",s.ivThreshold]}),O&&O.status==="partial"&&e.jsxs(Ie,{variant:"outline",className:"text-[10px] uppercase text-amber-600 border-amber-500/40 bg-amber-500/10",children:["partial ",O.success,"/",O.total]})]})}),e.jsx(v,{className:"text-center",children:"HISTORY"}),e.jsxs(v,{className:"text-center",children:["SPIKE > ",s.spikeThresholdPercent,"%"]}),e.jsx(v,{className:"text-center",children:"ALL PASS"})]})}),e.jsxs(rs,{children:[Z.map(t=>e.jsxs(te,{className:t.isAllPass?"bg-green-500/10":"",children:[e.jsx(N,{className:"font-medium text-xs",children:t.symbol}),e.jsx(N,{className:"text-center",children:e.jsx(Ie,{variant:"outline",className:t.type==="CE"?"bg-green-500/10 text-green-500 border-green-500/20":"bg-red-500/10 text-red-500 border-red-500/20",children:t.type})}),e.jsx(N,{className:"text-center font-bold",children:t.strike}),e.jsx(N,{className:"text-right font-mono text-base font-semibold",children:G(t.currentPremium)}),e.jsx(N,{className:"text-center",children:e.jsx("div",{className:C("text-xs font-medium",t.isDistancePass?"text-green-500":"text-red-500"),children:G(t.distance)})}),e.jsx(N,{className:"text-center",children:t.isPremiumPass?e.jsx(ae,{className:"h-4 w-4 mx-auto text-green-500"}):e.jsx(De,{className:"h-4 w-4 mx-auto text-red-500"})}),e.jsx(N,{className:"text-center",children:e.jsxs("div",{className:C("text-xs font-medium",t.isIvPass?"text-green-500":"text-red-500"),children:[t.currentIv.toFixed(2),"%"]})}),e.jsx(N,{className:"text-center",children:t.isHistoryPass?e.jsx(we,{className:"h-4 w-4 mx-auto text-green-500 animate-pulse"}):e.jsx(hs,{className:"h-4 w-4 mx-auto text-red-500"})}),e.jsx(N,{className:"text-center",children:e.jsxs("div",{className:C("font-bold text-xs",t.isSpikePass?"text-green-500":"text-red-500"),children:[t.spikePercent.toFixed(1),"%"]})}),e.jsx(N,{className:"text-center",children:t.isAllPass?e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"h-6 w-6 rounded-full bg-green-500 flex items-center justify-center text-white",children:e.jsx(ae,{className:"h-4 w-4"})})}):e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"h-6 w-6 rounded-full bg-red-500/20 flex items-center justify-center text-red-500",children:e.jsx(De,{className:"h-4 w-4"})})})})]},t.symbol)),Z.length===0&&e.jsx(te,{children:e.jsx(N,{colSpan:10,className:"h-24 text-center",children:"No strikes match the criteria or market is closed."})})]})]})})]}),!x&&!g&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground space-y-4",children:[e.jsx("div",{className:"h-16 w-16 bg-muted rounded-full flex items-center justify-center",children:e.jsx(Te,{className:"h-8 w-8 opacity-50"})}),e.jsx("h3",{className:"text-lg font-medium",children:"Ready to Monitor"}),e.jsx("p",{className:"max-w-sm text-center",children:"Configure the parameters above and click 'Start Monitor' to begin tracking option spikes."})]})]})}export{Ds as default};
