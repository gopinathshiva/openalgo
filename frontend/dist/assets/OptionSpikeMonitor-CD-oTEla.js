import{r,j as e}from"./vendor-react-CCyQGCED.js";import{v as $,d as Ke,B as L,c as C,e as Ie,s as se}from"./index-Bp5o7-yy.js";import{o as Pe}from"./oi-profile-CWpiSxt0.js";import{u as He}from"./useMarketData-CPfT8-7i.js";import{C as b,a as Ye,b as Ge,d as T}from"./card-CtzmDwOS.js";import{S as Ce}from"./switch-uXP45exu.js";import{P as ze,a as qe,b as Qe,C as Je,c as Ze,d as es,e as ss,f as ts,g as ns}from"./popover-BfDc9NYt.js";import{I as E}from"./input-Cn3-6WBp.js";import{L as w}from"./label-DJ_f5MJA.js";import{S as W,a as U,b as X,c as V,d as S}from"./select-Bz4UGe9b.js";import{T as as,a as is,b as te,c as v,d as rs,e as N}from"./table-BGgFCvPT.js";import{a2 as Te,aV as ne,n as ae,_ as Ee,aP as ls,aQ as cs,c as os,aw as ds,C as we,X as De,T as hs}from"./vendor-icons-Dyz2WLZ8.js";import"./vendor-charts-l0_txfiz.js";import"./vendor-router-Dzc1xxhr.js";import"./vendor-radix-CYVJEJRR.js";const ms={getOptionChain:async(u,t,h,x,I)=>(await $.post("/optionchain",{apikey:u,underlying:t,exchange:h,expiry_date:x,strike_count:I??20})).data,getExpiries:async(u,t,h,x="options")=>(await $.post("/expiry",{apikey:u,symbol:t,exchange:h,instrumenttype:x})).data},xs={exchange:"NFO",underlying:"NIFTY",expiry:"",strikeCount:10,distanceThreshold:500,premiumThreshold:5,ivThreshold:30,spikeReference:"OPEN",lastXMinutes:5,spikeThresholdPercent:10,skipIvWhenDistanceFail:!1,skipIvWhenPremiumFail:!1},ps=[{value:"NFO",label:"NFO"},{value:"BFO",label:"BFO"}];function Ds(){const{apiKey:u}=Ke(),[t,h]=r.useState(xs),[x,I]=r.useState(!1),[D,B]=r.useState(!0),[Fe,Oe]=r.useState([]),[Me,Re]=r.useState([]),[F,ie]=r.useState(""),[K,re]=r.useState(""),[g,_e]=r.useState(null),[le,Ae]=r.useState({}),[O,Le]=r.useState(null),[ce,oe]=r.useState({}),[de,H]=r.useState({}),[Y,M]=r.useState(!1),P=r.useRef(null),he=r.useRef({}),k=r.useCallback(s=>s==="NFO"?"NSE_INDEX":s==="BFO"?"BSE_INDEX":s==="CDS"?"CDS":s==="MCX"?"MCX":"NSE_INDEX",[]),[me,xe]=r.useState(!1),[pe,ue]=r.useState(!1),[f,We]=r.useState([]),fe=r.useMemo(()=>{const s=f.map(n=>({symbol:n.symbol,exchange:t.exchange}));return s.push({symbol:t.underlying,exchange:t.exchange}),s},[f,t.exchange,t.underlying]),{data:y}=He({symbols:fe,mode:"LTP",enabled:x&&fe.length>0}),G=s=>s?.toFixed(2)??"0.00",Ue=()=>t.spikeReference==="OPEN"?"Today's Open":t.spikeReference==="PREV_CLOSE"?"Yesterday's Close":`Last ${t.lastXMinutes} Minutes`;r.useEffect(()=>{(async()=>{try{const n=await Pe.getUnderlyings(t.exchange);if(n.status==="success"&&(Oe(n.underlyings),!n.underlyings.includes(F))){let a="";t.exchange==="BFO"?a=n.underlyings.includes("SENSEX")?"SENSEX":n.underlyings[0]||"":t.exchange==="NFO"?a=n.underlyings.includes("NIFTY")?"NIFTY":n.underlyings[0]||"":a=n.underlyings[0]||"",ie(a),h(i=>({...i,underlying:a}))}}catch(n){console.error("Failed to fetch underlyings",n)}})()},[t.exchange,F]),r.useEffect(()=>{if(!t.underlying)return;(async()=>{try{const n=await Pe.getExpiries(t.exchange,t.underlying);if(n.status==="success"&&(Re(n.expiries),!n.expiries.includes(K))){const a=n.expiries[0]||"";re(a),h(i=>({...i,expiry:a}))}}catch(n){console.error("Failed to fetch expiries",n)}})()},[t.exchange,t.underlying,K]);const z=r.useCallback(async s=>{if(!u)return;const n=new Date(Date.now()-t.lastXMinutes*60*1e3),a=n.toISOString().slice(0,10),i=new Date().toISOString().slice(0,10),c={};for(const l of s)try{const o=await $.post("/history",{apikey:u,symbol:l.symbol,exchange:l.exchange,interval:"1m",start_date:a,end_date:i,source:"api"});if(o.data.status==="success"&&o.data.data?.length){const p=o.data.data,d=n.getTime();let m=p[0];for(const j of p)new Date(j.timestamp??j.date??j.time).getTime()<=d&&(m=j);c[l.symbol]={price:Number(m.close??m.c??m.last_price??0),timestamp:d}}}catch(o){console.error("[OptionSpikeMonitor] Failed to fetch reference snapshot",l.symbol,o)}Object.keys(c).length>0&&H(l=>({...l,...c}))},[u,t.lastXMinutes]),q=r.useCallback(async(s,n)=>{const a=n??f;if(console.log("[OptionSpikeMonitor][fetchIvData] ENTRY - apiKey:",!!u,"activeStrikes:",a.length,"override:",s?.length),!u){console.log("[OptionSpikeMonitor][fetchIvData] SKIPPED - no API key");return}if(!s&&a.length===0){console.log("[OptionSpikeMonitor][fetchIvData] SKIPPED - no monitored strikes");return}M(!0);try{const i=y.get(`${k(t.exchange)}:${t.underlying}`)?.data?.ltp??g?.underlying_ltp;console.log("[OptionSpikeMonitor][fetchIvData] spotPrice:",i,"wsData size:",y.size,"optionChain?.underlying_ltp:",g?.underlying_ltp);const c=s&&s.length>0?s:a.filter(o=>{if(i===void 0){const p=!t.skipIvWhenDistanceFail;return console.log("[OptionSpikeMonitor][fetchIvData] spotPrice undefined, skipIvWhenDistanceFail:",t.skipIvWhenDistanceFail,"allow:",p),p}if(t.skipIvWhenDistanceFail){const p=Math.abs(i-o.strike);if(p<=t.distanceThreshold)return console.log("[OptionSpikeMonitor][fetchIvData] FILTERED OUT (distance):",o.symbol,"distance:",p,"threshold:",t.distanceThreshold),!1}if(t.skipIvWhenPremiumFail){const p=`${t.exchange}:${o.symbol}`,d=y.get(p)?.data?.ltp??0;if(d<=t.premiumThreshold)return console.log("[OptionSpikeMonitor][fetchIvData] FILTERED OUT (premium):",o.symbol,"ltp:",d,"threshold:",t.premiumThreshold),!1}return!0}).map(o=>({symbol:o.symbol,exchange:t.exchange}));if(console.log("[OptionSpikeMonitor][fetchIvData] Filtered symbols count:",c.length),c.length===0){console.log("[OptionSpikeMonitor][fetchIvData] SKIPPED - no symbols after filtering");return}const l=await $.post("/multioptiongreeks",{apikey:u,symbols:c});if(console.log("[OptionSpikeMonitor] fetchIvData request:",c),console.log("[OptionSpikeMonitor] fetchIvData response:",l.data),(l.data.status==="success"||l.data.status==="partial")&&l.data.data){const o={},p=new Set;if(l.data.data.forEach(d=>{d.status==="success"&&d.implied_volatility!==void 0&&d.symbol&&(o[d.symbol]=d.implied_volatility,p.add(d.symbol))}),Object.keys(o).length>0&&Ae(d=>({...d,...o})),Le({status:l.data.status,total:l.data.summary?.total??l.data.data.length,success:l.data.summary?.success??Object.keys(o).length,failed:l.data.summary?.failed??l.data.data.length-Object.keys(o).length}),l.data.status==="partial"){const d=c.filter(m=>!p.has(m.symbol));if(d.length>0){const m={};d.forEach(j=>{m[j.symbol]=j}),he.current=m,P.current&&window.clearTimeout(P.current),P.current=window.setTimeout(()=>{const j=Object.values(he.current);j.length>0&&q(j)},5e3)}else M(!1)}else M(!1)}}catch(i){console.error("[OptionSpikeMonitor] Error fetching IV data",i),M(!1)}},[u,f,t.exchange,t.underlying,t.skipIvWhenDistanceFail,t.skipIvWhenPremiumFail,t.distanceThreshold,t.premiumThreshold,y,g,k]),Xe=async()=>{if(!u||!t.expiry){se.error("Please configure expiry and ensure API key is set");return}ue(!0),B(!1);try{const s=t.expiry.split("-").length===3?`${t.expiry.split("-")[0]}${t.expiry.split("-")[1].toUpperCase()}${t.expiry.split("-")[2].slice(-2)}`:t.expiry,n=await ms.getOptionChain(u,t.underlying,t.exchange,s,t.strikeCount);if(n&&n.chain){_e(n);const a=n.atm_strike,i=[];if(n.chain.forEach(c=>{c.strike>a&&c.ce&&i.push({symbol:c.ce.symbol,type:"CE",strike:c.strike,baseSymbol:t.underlying}),c.strike<a&&c.pe&&i.push({symbol:c.pe.symbol,type:"PE",strike:c.strike,baseSymbol:t.underlying})}),We(i),I(!0),oe({}),H({}),t.spikeReference==="LAST_X_MIN"){const c=i.map(l=>({symbol:l.symbol,exchange:t.exchange}));z(c)}console.log("[OptionSpikeMonitor][handleStart] Scheduling initial IV fetch in 1s, apiKey available:",!!u,"strikes count:",i.length),setTimeout(()=>{console.log("[OptionSpikeMonitor][handleStart] FIRING initial IV fetch now with",i.length,"strikes"),q(void 0,i)},1e3)}else se.error("No option chain data found")}catch(s){console.error("Error starting monitor",s),se.error("Failed to start monitoring")}finally{ue(!1)}},Ve=()=>{I(!1),B(!0),H({})};r.useEffect(()=>{x||P.current&&window.clearTimeout(P.current)},[x]),r.useEffect(()=>{if(!x||t.spikeReference!=="LAST_X_MIN")return;const s=f.map(n=>({symbol:n.symbol,exchange:t.exchange}));s.length!==0&&z(s)},[t.spikeReference,t.lastXMinutes,x,f,t.exchange,z]),r.useEffect(()=>{x&&y.forEach((s,n)=>{const a=n.split(":")[1];s.lastUpdate&&oe(i=>({...i,[a]:s.lastUpdate??Date.now()}))})},[y,x]);const{distanceThreshold:R,premiumThreshold:_,ivThreshold:ge,spikeThresholdPercent:ye,spikeReference:Q,exchange:J,underlying:je}=t,Z=r.useMemo(()=>{if(!g||!f.length)return[];const s=y.get(`${k(J)}:${je}`)?.data?.ltp??g.underlying_ltp;return f.map(a=>{const i=`${J}:${a.symbol}`,c=y.get(i)?.data?.ltp??0,l=Math.abs(s-a.strike),o=le[a.symbol],p=g.chain.find(Be=>Be.strike===a.strike),d=a.type==="CE"?p?.ce:p?.pe;let m=0;Q==="OPEN"?m=d?.open??0:Q==="PREV_CLOSE"?m=d?.prev_close??0:m=de[a.symbol]?.price??0,m===0&&(m=d?.prev_close??0);const j=m>0?(c-m)/m*100:0,ee=ce[a.symbol]??0,$e=Date.now()-ee<3e4,Ne=l>R,ve=c>_,ke=o!==void 0&&o>ge,be=j>ye,Se=$e;return{...a,distance:l,currentPremium:c,currentIv:o??0,spikePercent:j,lastTickTime:ee,isDistancePass:Ne,isPremiumPass:ve,isIvPass:ke,isSpikePass:be,isHistoryPass:Se,isAllPass:Ne&&ve&&ke&&be&&Se}}).filter(a=>!(t.skipIvWhenDistanceFail&&!a.isDistancePass||t.skipIvWhenPremiumFail&&!a.isPremiumPass)).sort((a,i)=>a.isAllPass!==i.isAllPass?a.isAllPass?-1:1:a.strike-i.strike)},[f,y,g,ce,le,de,R,_,ge,ye,Q,J,je,k,t.skipIvWhenPremiumFail,t.skipIvWhenDistanceFail]),A=r.useMemo(()=>{if(!g||!f.length)return{distance:0,premium:0};const s=y.get(`${k(t.exchange)}:${t.underlying}`)?.data?.ltp??g.underlying_ltp;let n=0,a=0;return(t.skipIvWhenDistanceFail||t.skipIvWhenPremiumFail)&&f.forEach(i=>{const l=Math.abs(s-i.strike)<=R,o=`${t.exchange}:${i.symbol}`,d=(y.get(o)?.data?.ltp??0)<=_;t.skipIvWhenDistanceFail&&l&&n++,t.skipIvWhenPremiumFail&&d&&(!t.skipIvWhenDistanceFail||!l)&&a++}),{distance:n,premium:a}},[f,y,g,R,_,k,t.exchange,t.underlying,t.skipIvWhenDistanceFail,t.skipIvWhenPremiumFail]);return e.jsxs("div",{className:"py-6 space-y-6",children:[e.jsxs(b,{className:"w-full",children:[e.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[e.jsxs(Ge,{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-5 w-5"}),"Configuration"]}),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>B(!D),children:D?e.jsx(ne,{className:"h-4 w-4 rotate-180"}):e.jsx(ne,{className:"h-4 w-4"})})]}),D&&e.jsxs(T,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{children:"Exchange & Underlying"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(W,{value:t.exchange,onValueChange:s=>h(n=>({...n,exchange:s})),children:[e.jsx(U,{className:"w-24",children:e.jsx(X,{})}),e.jsx(V,{children:ps.map(s=>e.jsx(S,{value:s.value,children:s.label},s.value))})]}),e.jsxs(ze,{open:me,onOpenChange:xe,children:[e.jsx(qe,{asChild:!0,children:e.jsxs(L,{variant:"outline",role:"combobox","aria-expanded":me,className:"flex-1 justify-between",children:[F||"Select",e.jsx(ne,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(Qe,{className:"w-[200px] p-0",children:e.jsxs(Je,{children:[e.jsx(Ze,{placeholder:"Search..."}),e.jsxs(es,{children:[e.jsx(ss,{children:"No underlying found."}),e.jsx(ts,{children:Fe.map(s=>e.jsxs(ns,{value:s,onSelect:()=>{ie(s),h(n=>({...n,underlying:s})),xe(!1)},children:[e.jsx(ae,{className:C("mr-2 h-4 w-4",F===s?"opacity-100":"opacity-0")}),s]},s))})]})]})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{children:"Expiry & Strikes"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(W,{value:K,onValueChange:s=>{re(s),h(n=>({...n,expiry:s}))},children:[e.jsx(U,{className:"flex-1",children:e.jsx(X,{placeholder:"Expiry"})}),e.jsx(V,{children:Me.map(s=>e.jsx(S,{value:s,children:s},s))})]}),e.jsxs(W,{value:String(t.strikeCount),onValueChange:s=>h(n=>({...n,strikeCount:Number(s)})),children:[e.jsx(U,{className:"w-24",children:e.jsx(X,{})}),e.jsx(V,{children:[5,10,15,20,25].map(s=>e.jsxs(S,{value:String(s),children:[s," str"]},s))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{children:"Filters ( > )"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Dist (Pts)"}),e.jsx(E,{type:"number",value:t.distanceThreshold,onChange:s=>h(n=>({...n,distanceThreshold:Number(s.target.value)}))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Prem (Min)"}),e.jsx(E,{type:"number",value:t.premiumThreshold,onChange:s=>h(n=>({...n,premiumThreshold:Number(s.target.value)}))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{children:"Thresh ( > ) & Spike"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"IV (Max)"}),e.jsx(E,{type:"number",value:t.ivThreshold,onChange:s=>h(n=>({...n,ivThreshold:Number(s.target.value)}))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Spike %"}),e.jsx(E,{type:"number",value:t.spikeThresholdPercent,onChange:s=>h(n=>({...n,spikeThresholdPercent:Number(s.target.value)}))})]})]})]}),e.jsxs("div",{className:"space-y-2 lg:col-span-4",children:[e.jsx(w,{children:"Spike Reference"}),e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsxs(W,{value:t.spikeReference,onValueChange:s=>h(n=>({...n,spikeReference:s})),children:[e.jsx(U,{className:"w-48",children:e.jsx(X,{})}),e.jsxs(V,{children:[e.jsx(S,{value:"OPEN",children:"Today's Open"}),e.jsx(S,{value:"PREV_CLOSE",children:"Yesterday's Close"}),e.jsx(S,{value:"LAST_X_MIN",children:"Last X Minutes"})]})]}),t.spikeReference==="LAST_X_MIN"&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{type:"number",className:"w-20",value:t.lastXMinutes,onChange:s=>h(n=>({...n,lastXMinutes:Number(s.target.value)}))}),e.jsx("span",{className:"text-sm",children:"mins ago"})]})]})]})]}),e.jsx("div",{className:"flex justify-end gap-2 mt-6",children:e.jsxs(L,{variant:x?"destructive":"default",onClick:x?Ve:Xe,disabled:pe,children:[pe?e.jsx(Ee,{className:"mr-2 h-4 w-4 animate-spin"}):x?e.jsx(ls,{className:"mr-2 h-4 w-4 fill-current"}):e.jsx(cs,{className:"mr-2 h-4 w-4 fill-current"}),x?"Stop Monitor":"Start Monitor"]})})]})]}),x&&g&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(b,{children:e.jsx(T,{className:"p-4",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs(L,{variant:"outline",onClick:()=>q(),disabled:f.length===0||Y,children:[e.jsx(Ee,{className:C("mr-2 h-4 w-4",Y&&"animate-spin")}),Y?"Fetching IV...":"Fetch IV"]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-md border",children:[e.jsx(Ce,{checked:t.skipIvWhenDistanceFail,onCheckedChange:s=>h(n=>({...n,skipIvWhenDistanceFail:s}))}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium",children:"Skip IV if distance fails"}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Reduce IV calls for near strikes"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-md border",children:[e.jsx(Ce,{checked:t.skipIvWhenPremiumFail,onCheckedChange:s=>h(n=>({...n,skipIvWhenPremiumFail:s}))}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium",children:"Skip IV if premium fails"}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Skip IV for low premium strikes"})]})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(b,{children:e.jsxs(T,{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Spot Price"}),e.jsx("h2",{className:"text-2xl font-bold",children:G(y.get(`${k(t.exchange)}:${t.underlying}`)?.data?.ltp??g.underlying_ltp)})]}),e.jsx(os,{className:"h-8 w-8 text-primary opacity-50"})]})}),e.jsx(b,{children:e.jsxs(T,{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Reference Basis"}),e.jsx("h2",{className:"text-xl font-bold",children:Ue()}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.spikeReference==="LAST_X_MIN"?"Using option history":"Using option's static data"})]}),e.jsx(ds,{className:"h-8 w-8 text-blue-500 opacity-50"})]})}),e.jsx(b,{children:e.jsxs(T,{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Monitored Strikes"}),e.jsx("h2",{className:"text-2xl font-bold",children:f.length}),e.jsxs("p",{className:"text-xs text-green-500",children:[Z.filter(s=>s.isAllPass).length," Passing"]}),A.distance>0&&e.jsxs("p",{className:"text-xs text-amber-600",children:[A.distance," Hidden (distance)"]}),A.premium>0&&e.jsxs("p",{className:"text-xs text-amber-600",children:[A.premium," Hidden (premium)"]})]}),e.jsx(we,{className:"h-8 w-8 text-green-500 opacity-50"})]})})]}),e.jsx(b,{children:e.jsxs(as,{children:[e.jsx(is,{children:e.jsxs(te,{children:[e.jsx(v,{children:"SYMBOL"}),e.jsx(v,{className:"text-center",children:"TYPE"}),e.jsx(v,{className:"text-center",children:"STRIKE"}),e.jsx(v,{className:"text-right",children:"PREMIUM"}),e.jsx(v,{className:"text-center",children:"DISTANCE"}),e.jsxs(v,{className:"text-center",children:["PREM > ",t.premiumThreshold]}),e.jsx(v,{className:"text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsxs("span",{children:["IV > ",t.ivThreshold]}),O&&O.status==="partial"&&e.jsxs(Ie,{variant:"outline",className:"text-[10px] uppercase text-amber-600 border-amber-500/40 bg-amber-500/10",children:["partial ",O.success,"/",O.total]})]})}),e.jsx(v,{className:"text-center",children:"HISTORY"}),e.jsxs(v,{className:"text-center",children:["SPIKE > ",t.spikeThresholdPercent,"%"]}),e.jsx(v,{className:"text-center",children:"ALL PASS"})]})}),e.jsxs(rs,{children:[Z.map(s=>e.jsxs(te,{className:s.isAllPass?"bg-green-500/10":"",children:[e.jsx(N,{className:"font-medium text-xs",children:s.symbol}),e.jsx(N,{className:"text-center",children:e.jsx(Ie,{variant:"outline",className:s.type==="CE"?"bg-green-500/10 text-green-500 border-green-500/20":"bg-red-500/10 text-red-500 border-red-500/20",children:s.type})}),e.jsx(N,{className:"text-center font-bold",children:s.strike}),e.jsx(N,{className:"text-right font-mono text-base font-semibold",children:G(s.currentPremium)}),e.jsx(N,{className:"text-center",children:e.jsx("div",{className:C("text-xs font-medium",s.isDistancePass?"text-green-500":"text-red-500"),children:G(s.distance)})}),e.jsx(N,{className:"text-center",children:s.isPremiumPass?e.jsx(ae,{className:"h-4 w-4 mx-auto text-green-500"}):e.jsx(De,{className:"h-4 w-4 mx-auto text-red-500"})}),e.jsx(N,{className:"text-center",children:e.jsxs("div",{className:C("text-xs font-medium",s.isIvPass?"text-green-500":"text-red-500"),children:[s.currentIv.toFixed(2),"%"]})}),e.jsx(N,{className:"text-center",children:s.isHistoryPass?e.jsx(we,{className:"h-4 w-4 mx-auto text-green-500 animate-pulse"}):e.jsx(hs,{className:"h-4 w-4 mx-auto text-red-500"})}),e.jsx(N,{className:"text-center",children:e.jsxs("div",{className:C("font-bold text-xs",s.isSpikePass?"text-green-500":"text-red-500"),children:[s.spikePercent.toFixed(1),"%"]})}),e.jsx(N,{className:"text-center",children:s.isAllPass?e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"h-6 w-6 rounded-full bg-green-500 flex items-center justify-center text-white",children:e.jsx(ae,{className:"h-4 w-4"})})}):e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"h-6 w-6 rounded-full bg-red-500/20 flex items-center justify-center text-red-500",children:e.jsx(De,{className:"h-4 w-4"})})})})]},s.symbol)),Z.length===0&&e.jsx(te,{children:e.jsx(N,{colSpan:10,className:"h-24 text-center",children:"No strikes match the criteria or market is closed."})})]})]})})]}),!x&&!g&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground space-y-4",children:[e.jsx("div",{className:"h-16 w-16 bg-muted rounded-full flex items-center justify-center",children:e.jsx(Te,{className:"h-8 w-8 opacity-50"})}),e.jsx("h3",{className:"text-lg font-medium",children:"Ready to Monitor"}),e.jsx("p",{className:"max-w-sm text-center",children:"Configure the parameters above and click 'Start Monitor' to begin tracking option spikes."})]})]})}export{Ds as default};
